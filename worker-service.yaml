# worker-service.yaml
# Deploys the backend worker service using the App Engine Flexible Environment.
# This provides the power and patience needed for long-running tasks.

runtime: custom
env: flex
service: staging-worker # The correct name for our staging backend

# Allocate powerful resources for audio and AI processing.
resources:
  cpu: 1
  memory_gb: 2
  disk_size_gb: 10

# Flexible Environment requires at least one instance running.
# This ensures there's always a worker ready to accept a task.
automatic_scaling:
  min_num_instances: 1
  max_num_instances: 1 # We can increase this later for higher throughput

